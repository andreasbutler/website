---
layout:     post
title:      The Pendulum
author:     Noel Csomay-Shanklin
tags: 		  Reading 
subtitle:  	The Most Beloved Nonlinear System
category:   reading
---
### Table of Contents
* TOC
{:toc}

Add something about conservative vs nonconservative system

# Introduction
Consider the mechanical system given by
<img style="margin:20px 20px" src="https://noelc-s.github.io/website/img/Pendulum/pend.svg?sanitize=true">
where $J$ is the moment of inertia, $\theta$ represents the angular deviation from vertical, $b$ represents the damping coefficient, and $u$ represents a force input in the positive $\theta$ direction.
# Dynamics
## Euler-Lagrange
For the following discussion, we will assume that the control input, $u$, is zero. The kinetic energy of the system, $T=\frac{1}{2}J\dot{\theta}^2$, and the potential energy of the system $V=mgl(1-\cos(\theta)$. We can therefore construct the Lagrangian as
\\[
\begin{align}
L&=T-V\notag\\\
&=\frac{1}{2}J\dot{\theta}^2-mgl(1-\cos(\theta)).\notag
\end{align}
\\]
We can represent the damping force as a Rayleigh dissipation function with $\mathcal{F}=\frac{1}{2}b\dot{\theta}^2$. This given us a force in the generalized coordinates of 
\\[
Q_i = -\frac{\partial\mathcal{F}}{\partial\dot{\theta}}=-b\dot{\theta}.
\\]
Employing the Lagrange d'Alembert principle results in the equations of motion of the system, as given by
\\[
\begin{align}
\frac{d}{dt}\left(\frac{\partial L}{\partial v^i}\right)-\frac{\partial L}{\partial q^i}&=Q_i\notag\\\
\ddot{\theta}+\frac{mgl}{J}\sin(\theta)&=-b\dot{\theta}\notag.
\end{align}
\\]
In order to represent the system in a convenient manner, we use state space representation to construct 
\\[
\dot{q} = \underbrace{\begin{bmatrix}q_2\\\\ -\frac{mgl}{J}\sin(q_1)-bq_2\end{bmatrix}}_{f(q)}
\\]
where $q=(\theta,\ \dot{\theta})^\top$.
## Solutions
There does not exist a closed form solution for all initial conditions for all time of the pendulum in terms of elementary functions. This however does not mean that we cannot characterize certain aspects of the system, which we will do in subsequent sections.

Insert numerical solutions.
## Multiple Isolated Fixed points
Unlike linear systems, nonlinear systems can exhibit behaviors of multiple isolated fized points, which the pendulum well demonstrates. Setting $f(q)=0$, we have that $q_1=n\pi$, $n\in\mathbb{Z}$ with $q_2=0$, meaning the system has an infinite number of fixed points. We will later see through a geometric analysis that this can be reduced to two true states of the system with $q_1\in\\{0,\pi\\}$.

## Linearization
The first thing we can do to determine some characteriztics of the system is to perform a linearization of the system around the fixed points. Starting with $q_0\equiv 0$, we compute the Jacobian
\\[
A(q_0) = \frac{\partial f}{\partial q}(q_0)=\begin{bmatrix}0&1\\\\ -\frac{mgl}{J}\cos(q_1) & -b\end{bmatrix}(q_0) = \begin{bmatrix}0&1\\\\ -\frac{mgl}{J} & -b\end{bmatrix}.
\\]
Now with $q_\pi = \pi$, we get
\\[
A(q_\pi) = \frac{\partial f}{\partial q}(q_\pi)=\begin{bmatrix}0&1\\\\ -\frac{mgl}{J}\cos(q_1) & -b\end{bmatrix}(q_1) = \begin{bmatrix}0&1\\\\ \frac{mgl}{J} & -b\end{bmatrix}.
\\]
### Hartman-Grobman Theorem

## Lyapunov
## Differential Geometry


# Controls
## PID
## Feedback Linearization
## Control Lyapunov Functions
## Trajectory Optimization (MPC)

### Sources
[https://physics.stackexchange.com/questions/343553/lagrangian-and-hamiltonian-formalism-for-damped-pendulum](https://physics.stackexchange.com/questions/343553/lagrangian-and-hamiltonian-formalism-for-damped-pendulum)
[https://physics.stackexchange.com/questions/41034/what-are-the-reasons-for-leaving-the-dissipative-energy-term-out-of-the-hamilton](https://physics.stackexchange.com/questions/41034/what-are-the-reasons-for-leaving-the-dissipative-energy-term-out-of-the-hamilton)
